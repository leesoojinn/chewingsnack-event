<!DOCTYPE html>
<html lang="ko">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="UTF-8" />
  <title>ğŸ’— ì¸„ì‰ìŠ¤ë‚µ ì„œë¹„ìŠ¤ ëŒë¦¼íŒ ğŸ’—</title>
  <style>
    body {
      font-family: 'Nanum Gothic', sans-serif;
      max-width: 600px;
      margin: 0 auto;
      padding: 15px;
      background: linear-gradient(180deg, #FFF3ED 0%, #EEF7FB 100%);
      color: #52263A;
      text-align: center;
    }
    h2 {
      margin-bottom: 25px;
      color: #DD71A9;
    }
    label, input, button {
      font-size: 1rem;
    }
    input[type=number] {
      padding: 6px 8px;
      width: 140px;
      border: 1px solid #F7D6E5;
      border-radius: 4px;
      margin-right: 10px;
      background: #fff;
    }
    button {
      padding: 8px 16px;
      background: #DD71A9;
      border: none;
      border-radius: 6px;
      color: white;
      cursor: pointer;
      font-weight: bold;
      transition: background 0.3s ease;
    }
    button:hover:not(:disabled) {
      background: #F094BC;
    }
    button:disabled {
      background: #F7D6E5;
      cursor: not-allowed;
    }

    /* âœ… ë°˜ì‘í˜•: íœ  ì»¨í…Œì´ë„ˆë¥¼ í™”ë©´ í­ì— ë§ì¶° ìë™ ì¶•ì†Œ */
    #wheelContainer {
      margin: 20px auto;
      position: relative;
      width: 100%;
      max-width: 420px;      /* ë°ìŠ¤í¬í†± ìƒí•œ */
      aspect-ratio: 1 / 1;   /* ì •ì‚¬ê°í˜• ìœ ì§€ */
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    #wheel {
      width: 100%;
      height: 100%;
      transition: transform 4s cubic-bezier(0.33, 1, 0.68, 1);
      transform-origin: 50% 50%;
    }

    #spinPointer {
      position: absolute;
      top: -10px;     /* í•„ìš”ì‹œ ëª¨ë°”ì¼ì—ì„œ ë¯¸ì„¸ ì¡°ì •ë¨ */
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 0;
      border-left: 18px solid transparent;
      border-right: 18px solid transparent;
      border-top: 60px solid #DD71A9; /* ê¸¸ê³  ì–‡ì€ ì§„ë³´ë¼ìƒ‰ í¬ì¸í„° */
      z-index: 10;
      filter: drop-shadow(0 3px 3px rgba(0,0,0,0.2));
      user-select: none;
      pointer-events: none;
    }

    #resultPanel {
      margin: 20px auto;
      background: linear-gradient(180deg, #F7D6E5 0%, #F9E4EB 40%, #FFFFFF 100%);
      padding: 10px;
      border-radius: 15px;
      border: 1px solid rgba(240,148,188,0.38);
      width: 90%;
      box-shadow: inset 0 0 3px rgba(240,148,188,0.25),0 8px 18px rgba(221,113,169,0.15);
      color: #52263A;
    }

    #history {
      margin-top: 10px;
      max-height: 140px;
      overflow-y: auto;
      font-size: 0.9rem;
      line-height: 1.4;
      color: #8B4F62;
    }

    #tierInfo {
      margin-top: 8px;
      color: #DD71A9;
      font-weight: bold;
    }

    /* ğŸ“± ëª¨ë°”ì¼ ë³´ì¡° ì¡°ì •(ì„ íƒ): í°ì—ì„œ ì‚´ì§ ë” ì‘ê²Œ */
    @media (max-width: 600px){
      input[type=number]{ width: 42vw; font-size:.95rem; }
      button{ padding: 8px 12px; font-size:.95rem; }
      #resultPanel{ font-size:.95rem; }
      /* í¬ì¸í„°ë„ í™”ë©´ì— ë¹„ë¡€í•´ ì‚´ì§ ì¶•ì†Œ */
      #spinPointer{
        top: -8px;
        border-left: 12px solid transparent;
        border-right: 12px solid transparent;
        border-top: 40px solid #DD71A9;
      }
    }
  </style>
</head>
<body>

<h2>ğŸ’— ì¸„ì‰ìŠ¤ë‚µ ì„œë¹„ìŠ¤ìŠ¤ ëŒë¦¼íŒ ğŸ’—</h2>

<div>
  <label for="purchaseAmount">êµ¬ë§¤ê¸ˆì•¡(ì›): </label>
  <input type="number" id="purchaseAmount" placeholder="ì˜ˆ: 45000" min="0" />
  <button id="applyAmount">ì ìš©</button>
  <p style="color:#e53935; font-size:0.9rem; margin:6px 0 0;">* ë°°ì†¡ë¹„ ì œì™¸í•˜ê³  êµ¬ë§¤ê¸ˆì•¡ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.</p>
  <div id="tierInfo"></div>
</div>

<div id="wheelContainer">
  <div id="wheel"></div>
  <div id="spinPointer"></div>
</div>

<button id="spinBtn" disabled>íšŒì „íŒ ëŒë¦¬ê¸°</button>

<div id="resultPanel">
  <div><strong>ë§ˆì§€ë§‰ ë‹¹ì²¨ ê²°ê³¼: </strong><span id="lastResult">-</span></div>
  <div><strong>ë‚¨ì€ íšŸìˆ˜: </strong><span id="spinsLeft">0</span></div>
  <div id="history"><strong>íˆìŠ¤í† ë¦¬:</strong><br/></div>
</div>
  
<script>
  const prizes = [
    "ê³ êµ¬ë§ˆì¹© í† í•‘ìš©", "ì˜¤íŠ¸ë¦¬ì–¼ì¹©", "ë°”ì‚­íŒŒì¹©",
    "ëœë¤ ì ¤ë¦¬(200g)", "êµ¬ìš´ì°¸ë§ˆê¹¨ìŠ¤í‹±", "í˜ìŠ¤ì¸„ë¦¬ ì˜¤ì§•ì–´(60g)", "ì˜¤íŠ¸ë°€ê°•ì •",
    "ëœë¤ ì ¤ë¦¬(200g)", "ë°”ì‚­íŒŒì¹©", "ëœë¤ ë¿”ë§ˆì¹©", "ê³ êµ¬ë§ˆì¹© í† í•‘ìš©",
    "ëœë¤ ì ¤ë¦¬(200g)", "ëœë¤ ë¿”ë§ˆì¹©", "ì˜¤íŠ¸ë¦¬ì–¼ì¹©", "ëœë¤ì ¤ë¦¬(200g)"
  ];

  const wheel = document.getElementById('wheel');
  const spinBtn = document.getElementById('spinBtn');
  const lastResultSpan = document.getElementById('lastResult');
  const spinsLeftSpan = document.getElementById('spinsLeft');
  const historyDiv = document.getElementById('history');
  const tierInfoDiv = document.getElementById('tierInfo');
  const purchaseAmountInput = document.getElementById('purchaseAmount');
  const applyAmountBtn = document.getElementById('applyAmount');
  const container = document.getElementById('wheelContainer');
  const pointer = document.getElementById('spinPointer');

  let spinsLeft = 0;
  let currentRotation = 0;

  /* =========================
     [SOUND] ì†Œë¦¬ ê´€ë ¨ í•¨ìˆ˜ ì¶”ê°€
     ========================= */
  const AudioCtx = window.AudioContext || window.webkitAudioContext; // [SOUND]
  let audioCtx;                                                     // [SOUND]
  let tickTimer = null;                                             // [SOUND]
  let tickIntervalMs = 120;                                         // [SOUND]

  function ensureAudio(){                                           // [SOUND]
    if(!audioCtx) audioCtx = new AudioCtx();
    if(audioCtx.state === 'suspended') audioCtx.resume();
  }
  // íšŒì „ ì¤‘ 'í‹±' ì†Œë¦¬
// ê¸°ì¡´ playTick() ì„ ì•„ë˜ë¡œ êµì²´
function playTick() {
  ensureAudio();

  const osc   = audioCtx.createOscillator();
  const gain  = audioCtx.createGain();
  const lpf   = audioCtx.createBiquadFilter();

  osc.type = 'triangle';          // ë¶€ë“œëŸ¬ìš´ íŒŒí˜•
  osc.frequency.setValueAtTime(820, audioCtx.currentTime); // 1000 â†’ 820Hz

  lpf.type = 'lowpass';           // ê³ ìŒ ì‚´ì§ ê¹ê¸°
  lpf.frequency.value = 1800;     // ì»·ì˜¤í”„(ë¶€ë“œëŸ¬ì›€â†‘ë©´ ë” ë‚®ì¶”ì„¸ìš”: 1200~2000)
  lpf.Q.value = 0.7;

  const t0 = audioCtx.currentTime;
  const atk = 0.012;              // Attack (0.005 â†’ 0.012)
  const rel = 0.14;               // Release (0.06 â†’ 0.14)

  gain.gain.setValueAtTime(0.0001, t0);
  gain.gain.exponentialRampToValueAtTime(0.55, t0 + atk);      // í”¼í¬ ë³¼ë¥¨
  gain.gain.exponentialRampToValueAtTime(0.0001, t0 + rel);    // ë¶€ë“œëŸ½ê²Œ ì¤„ì´ê¸°

  osc.connect(lpf).connect(gain).connect(audioCtx.destination);
  osc.start(t0);
  osc.stop(t0 + rel + 0.02);
}

    // ë©ˆì¶œ ë•Œ íŠ¸ëŸ¼í« "ë¹ ! ë¹°~~~~" (ì €ìŒ ë²„ì „)
function playChime(){                                             // [SOUND]
  ensureAudio();

  const base = audioCtx.currentTime + 0.02;

  // ğŸº ì§§ì€ "ë¹ !" ì €ìŒ ë‚˜íŒ”
  function brassHit(freq, delay = 0, peak = 0.7){
    const osc1 = audioCtx.createOscillator();
    const osc2 = audioCtx.createOscillator();
    const filt = audioCtx.createBiquadFilter();
    const gain = audioCtx.createGain();

    osc1.type = "sawtooth";
    osc2.type = "sawtooth";

    // ì‚´ì§ ë””íŠ  â†’ ë‘êº¼ìš´ ë‚˜íŒ” ëŠë‚Œ
    osc1.frequency.setValueAtTime(freq, base + delay);
    osc2.frequency.setValueAtTime(freq * 1.01, base + delay);

    // ë” ë‚®ì€ ëŒ€ì—­ì— ì´ˆì  (ì €ìŒ)
    filt.type = "bandpass";
    filt.frequency.value = 1100;   // ê¸°ì¡´ 1600~1700ë³´ë‹¤ ë‚®ê²Œ
    filt.Q.value = 4;

    gain.gain.setValueAtTime(0.0001, base + delay);
    gain.gain.exponentialRampToValueAtTime(peak, base + delay + 0.03);
    gain.gain.exponentialRampToValueAtTime(0.0001, base + delay + 0.45);

    osc1.connect(filt);
    osc2.connect(filt);
    filt.connect(gain).connect(audioCtx.destination);

    osc1.start(base + delay);
    osc2.start(base + delay);
    osc1.stop(base + delay + 0.36);
    osc2.stop(base + delay + 0.36);
  }

  // ğŸº ê¸´ "ë¹°~~~~" ì €ìŒ ë‚˜íŒ”
  function brassSustain(freq, delay = 0.2, sustain = 1.0, peak = 0.85){
    const osc1 = audioCtx.createOscillator();
    const osc2 = audioCtx.createOscillator();
    const filt = audioCtx.createBiquadFilter();
    const gain = audioCtx.createGain();

    osc1.type = "sawtooth";
    osc2.type = "sawtooth";

    osc1.frequency.setValueAtTime(freq, base + delay);
    osc2.frequency.setValueAtTime(freq * 1.012, base + delay);

    filt.type = "bandpass";
    filt.frequency.value = 900;  // ë” ë‚®ì€ ëŒ€ì—­
    filt.Q.value = 3.5;

    gain.gain.setValueAtTime(0.0001, base + delay);
    gain.gain.exponentialRampToValueAtTime(peak, base + delay + 0.25); // ì„œì„œíˆ ì»¤ì§
    gain.gain.setValueAtTime(peak, base + delay + sustain);
    gain.gain.exponentialRampToValueAtTime(0.0001, base + delay + sustain + 0.6);

    osc1.connect(filt);
    osc2.connect(filt);
    filt.connect(gain).connect(audioCtx.destination);

    osc1.start(base + delay);
    osc2.start(base + delay);
    osc1.stop(base + delay + sustain + 0.7);
    osc2.stop(base + delay + sustain + 0.7);
  }

  // ğŸ¶ íŒ¨í„´: ê°™ì€ ìŒì •ì˜ "ë¹ ! ë¹°~~~~" (ì €ìŒìœ¼ë¡œ)
  const LOW_TRUMPET = 587.33; // D5 ì •ë„ (ê¸°ì¡´ C6ë³´ë‹¤ í•œ ì˜¥íƒ€ë¸Œ ê°€ê¹Œì´ ë‚®ìŒ)
  brassHit(LOW_TRUMPET, 0.00, 0.7);              // ë¹ !
  brassHit(LOW_TRUMPET, 0.15, 0.7);
  brassSustain(LOW_TRUMPET, 0.20, 1.1, 0.85);    // ë¹°~~~~
}

  // íšŒì „ ì¤‘ 'í‹±í‹±í‹±' ë°˜ë³µ (ì ì  ë¹¨ë¼ì§)
  function startTicking(){                                         // [SOUND]
    ensureAudio();
    stopTicking();
    tickIntervalMs = 140; // ì‹œì‘ ì†ë„
    const runner = ()=>{
      playTick();
      tickIntervalMs = Math.max(40, tickIntervalMs - 4);
      clearInterval(tickTimer);
      tickTimer = setInterval(runner, tickIntervalMs);
    };
    tickTimer = setInterval(runner, tickIntervalMs);
  }
  function stopTicking(){                                          // [SOUND]
    if(tickTimer){ clearInterval(tickTimer); tickTimer = null; }
  }

    /* =========================
     ğŸ‰ ì»¨í˜í‹°(í­ì£½) íš¨ê³¼
     ========================= */
  function fireConfetti() {
    const canvas = document.createElement('canvas');
    const ctx = canvas.getContext('2d');

    let w = window.innerWidth;
    let h = window.innerHeight;

    canvas.width = w;
    canvas.height = h;
    canvas.style.position = 'fixed';
    canvas.style.left = '0';
    canvas.style.top = '0';
    canvas.style.pointerEvents = 'none';
    canvas.style.zIndex = '9999';

    document.body.appendChild(canvas);

    const colors = ['#FF6B6B', '#FFD93D', '#6BCB77', '#4D96FF', '#F7A9F0'];
    const pieces = [];
    const pieceCount = 120;

    for (let i = 0; i < pieceCount; i++) {
      pieces.push({
        x: Math.random() * w,
        y: Math.random() * -h * 0.3,
        size: 6 + Math.random() * 6,
        angle: Math.random() * Math.PI * 2,
        speedY: 2 + Math.random() * 3,
        speedX: -1 + Math.random() * 2,
        spin: -0.2 + Math.random() * 0.4,
        color: colors[Math.floor(Math.random() * colors.length)]
      });
    }

    let animationId;
    function draw() {
      ctx.clearRect(0, 0, w, h);

      pieces.forEach(p => {
        p.x += p.speedX;
        p.y += p.speedY;
        p.angle += p.spin;

        ctx.save();
        ctx.translate(p.x, p.y);
        ctx.rotate(p.angle);
        ctx.fillStyle = p.color;
        ctx.fillRect(-p.size / 2, -p.size / 2, p.size, p.size * 1.4);
        ctx.restore();
      });

      animationId = requestAnimationFrame(draw);
    }

    draw();

    // 1.5ì´ˆ í›„ ì»¨í˜í‹° ì œê±°
    setTimeout(() => {
      cancelAnimationFrame(animationId);
      document.body.removeChild(canvas);
    }, 1500);

    // í™”ë©´ í¬ê¸° ë°”ë€” ë•Œ ìº”ë²„ìŠ¤ í¬ê¸° ì¬ì¡°ì • (ì„ íƒ)
    window.addEventListener('resize', () => {
      w = window.innerWidth;
      h = window.innerHeight;
      canvas.width = w;
      canvas.height = h;
    }, { once: true });
  }

  // âœ… ì»¨í…Œì´ë„ˆ ì‹¤ì œ í¬ê¸°ì— ë§ì¶° ìº”ë²„ìŠ¤ë¥¼ ê·¸ë¦¬ëŠ” í•¨ìˆ˜
  function drawWheelResponsive() {
    const rect = container.getBoundingClientRect();
    const size = Math.round(Math.min(rect.width, rect.height)); // ì •ì‚¬ê°í˜•
    if (!size || size <= 0) return;

    const n = prizes.length;
    const cx = size / 2;

    const canvas = document.createElement('canvas');
    canvas.width = size;
    canvas.height = size;
    const ctx = canvas.getContext('2d');

    // ë¹„ìœ¨ ê¸°ë°˜ íŒŒë¼ë¯¸í„° (í™”ë©´ì— ë”°ë¼ ìë™ ìŠ¤ì¼€ì¼)
    const R_outer   = cx - 2;
    const ringWidth = Math.max(22, Math.round(size * 0.06));
    const R_wedge   = R_outer - ringWidth;
    const dotR      = Math.max(5, Math.round(size * 0.015));
    const dotCount  = 28;

    const purple     = '#DD71A9'; // í…Œë‘ë¦¬ ìƒ‰ê¹” ë³€ê²½ #6d33a8
    const lightPurple= '#F7D6E5'; 
    const pale       = '#EEF7FB';
    const wedgeColors= ['#F7D6E5', '#EEF7FB'];
    const lineColor  = '#F094BC';

    // ì™¸ê³½ ì›
    ctx.beginPath();
    ctx.arc(cx, cx, R_outer, 0, Math.PI * 2);
    ctx.fillStyle = purple;
    ctx.fill();

    // í° ì  í…Œë‘ë¦¬
    for (let i = 0; i < dotCount; i++) {
      const ang = (i / dotCount) * Math.PI * 2;
      const x = cx + Math.cos(ang) * (R_outer - ringWidth/2);
      const y = cx + Math.sin(ang) * (R_outer - ringWidth/2);
      ctx.beginPath();
      ctx.arc(x, y, dotR, 0, Math.PI * 2);
      ctx.fillStyle = '#fff';
      ctx.fill();
    }

    // ì„¹í„°
    const anglePer = (2 * Math.PI) / n;
    for (let i = 0; i < n; i++) {
      const a0 = i * anglePer;
      const a1 = (i + 1) * anglePer;

      // ì›¨ì§€
      ctx.beginPath();
      ctx.moveTo(cx, cx);
      ctx.arc(cx, cx, R_wedge, a0, a1);
      ctx.closePath();
      ctx.fillStyle = wedgeColors[i % 2];
      ctx.fill();

      // êµ¬ë¶„ì„ (ì„ ëª…)
      ctx.beginPath();
      ctx.moveTo(cx, cx);
      ctx.lineTo(cx + Math.cos(a0) * R_wedge, cx + Math.sin(a0) * R_wedge);
      ctx.strokeStyle = lineColor;
      ctx.lineWidth = Math.max(1.5, size * 0.004);
      ctx.stroke();

      // ë¼ë²¨
      ctx.save();
      ctx.translate(cx, cx);
      ctx.rotate(a0 + anglePer / 2);
      
      ctx.textAlign = 'center';
      ctx.fillStyle = '#5A2B3F';
      ctx.textBaseline = 'middle'; // ëŒë¦¼íŒ ì•ˆ ê¸€ì ê°€ìš´ë°ë¡œ 
      ctx.font = `bold ${Math.max(12, Math.round(size * 0.035))}px Nanum Gothic, sans-serif`;
      
      let t = prizes[i];
      const usableWidth = R_wedge * 0.8;
      while (ctx.measureText(t).width > (R_wedge - 16) * 0.95 && t.length > 2) t = t.slice(0, -1);

      const rLabel = R_wedge * 0.68;
      
      ctx.fillText(t, rLabel, -1);
      ctx.restore();
    }

    /* ì¤‘ì•™ ë§ ì œê±°
    ctx.beginPath();
    ctx.arc(cx, cx, Math.round(size * 0.17), 0, Math.PI * 2);
    ctx.fillStyle = lightPurple;
    ctx.fill();

    ctx.beginPath();
    ctx.arc(cx, cx, Math.round(size * 0.12), 0, Math.PI * 2);
    ctx.fillStyle = pale;
    ctx.fill();
    */

    wheel.innerHTML = '';
    wheel.appendChild(canvas);

    // ğŸ”º í¬ì¸í„°ë„ í™”ë©´ ë¹„ë¡€ë¡œ ìë™ ì¡°ì •
    const bl = Math.round(size * 0.04); // ì¢Œìš° ë‘ê»˜
    const bt = Math.round(size * 0.12); // ì„¸ëª¨ ë†’ì´
    pointer.style.borderLeft  = `${bl}px solid transparent`;
    pointer.style.borderRight = `${bl}px solid transparent`;
    pointer.style.borderTop   = `${bt}px solid ${purple}`;
    pointer.style.top         = `${-Math.round(size * 0.02)}px`;
  }

  function degreeToSegment(degree) {
    const adjusted = (degree + 90) % 360;
    const anglePer = 360 / prizes.length;
    return (prizes.length - 1 - Math.floor(adjusted / anglePer));
  }

  function spinWheel() {
    if (spinsLeft <= 0) return alert("ë” ì´ìƒ ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤!");
    spinBtn.disabled = true;

    startTicking(); // [SOUND] íšŒì „ ì‹œì‘ ì†Œë¦¬(í‹±í‹±í‹±) ì‹œì‘

    const extra = 360 * (5 + Math.random() * 3);
    currentRotation += extra;
    wheel.style.transition = 'transform 4s cubic-bezier(0.33, 1, 0.68, 1)';
    wheel.style.transform = `rotate(${currentRotation}deg)`;

    setTimeout(() => {
      spinBtn.disabled = false;
      spinsLeft--;
      spinsLeftSpan.textContent = spinsLeft;

      const degree = currentRotation % 360;
      const prizeIndex = degreeToSegment(degree);
      const result = prizes[prizeIndex];
      lastResultSpan.textContent = result;

      const now = new Date();
      const record = document.createElement('div');
      record.textContent = `${now.toLocaleTimeString()} - ${result}`;
      historyDiv.appendChild(record);

      stopTicking(); // [SOUND] íšŒì „ ì†Œë¦¬(í‹±í‹±í‹±) ì •ì§€
      playChime();   // [SOUND] ë©ˆì¶œ ë•Œ íš¨ê³¼ìŒ
      fireConfetti(); // ğŸ‰ ì»¨í˜í‹°(í­ì£½) ë°œì‚¬
      // playCelebrationSound(); // ğŸ‰ ë¹µë¹ ë ˆ + í•¨ì„± íš¨ê³¼ìŒ
    }, 4000);
  }

  function determineSpins(amount) {
    if (amount >= 120000) return 5;
    if (amount >= 90000) return 4;
    if (amount >= 70000) return 3;
    if (amount >= 50000) return 2;
    if (amount >= 30000) return 1;
    return 0;
  }

  applyAmountBtn.addEventListener('click', () => {
    const amount = Number(purchaseAmountInput.value);
    spinsLeft = determineSpins(amount);
    spinsLeftSpan.textContent = spinsLeft;
    tierInfoDiv.textContent =
      spinsLeft > 0
        ? `êµ¬ë§¤ê¸ˆì•¡ ${amount.toLocaleString()}ì› - ${spinsLeft}íšŒ ê¸°íšŒ`
        : `3ë§Œì› ì´ìƒ êµ¬ë§¤ì‹œ ì°¸ì—¬ ê°€ëŠ¥í•©ë‹ˆë‹¤.`;
    spinBtn.disabled = spinsLeft <= 0;
    lastResultSpan.textContent = '-';
    historyDiv.innerHTML = '<strong>íˆìŠ¤í† ë¦¬:</strong><br/>';
  });

  spinBtn.addEventListener('click', spinWheel);

  // âœ… ìµœì´ˆ ë Œë” & ë¦¬ì‚¬ì´ì¦ˆ ì‹œ ì¬ê·¸ë¦¬ê¸°
  window.addEventListener('resize', drawWheelResponsive);
  // ì¼ë¶€ ë¸Œë¼ìš°ì € ì´ˆê¸° ë ˆì´ì•„ì›ƒ í›„ í¬ê¸° ê³„ì‚°ì„ ìœ„í•´ í•œ í‹± ë’¤ì— í˜¸ì¶œ
  requestAnimationFrame(drawWheelResponsive);

  // âœ… ì¶”ê°€ â†“â†“â†“
const isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);

if (isMobile) {
  if (window.visualViewport) {
    window.visualViewport.addEventListener('resize', () => {
      requestAnimationFrame(drawWheelResponsive);
    });
    window.visualViewport.addEventListener('scroll', () => {
      requestAnimationFrame(drawWheelResponsive);
    });
  }
  window.addEventListener('orientationchange', () => {
    setTimeout(drawWheelResponsive, 400);
  });
}
</script>

</body>
</html>
